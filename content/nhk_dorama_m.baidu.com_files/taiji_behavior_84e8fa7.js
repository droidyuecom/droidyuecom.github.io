define("log/taiji_behavior",["require","log/webb/webb_instance"],function(t){function n(t,n){return t?parseFloat(t.toFixed(n||2)):t}function e(){var t={motionResMaxDiff:p,motionResMaxDiffEvent:b};return setTimeout(function(){m=null,p=null,b=null},20),t}function o(t,n){t.length=0,t.length=n}function i(){d=null,o(x,w),o(M,4)}function c(t,o){o=o||10;var i=e(),c=i.motionResMaxDiffEvent;if(i.motionResMaxDiff&&c){var a=c.accelerationIncludingGravity,u=c.rotationRate
;t=t+"|md@"+[n(i.motionResMaxDiff),n(c.interval),n(a.x),n(a.y),n(a.z),n(u.alpha),n(u.beta),n(u.gamma)].join("_")}page.cookie(y,t,{expires:1e3*o,path:"/",domain:document.domain});var r=$('<input type="hidden" name="tj" value="1">');$('input[name="tj"]').length||T.append(r)}function a(t){var n=[];for(var e in t)if(t.hasOwnProperty(e)){for(var o=0;o<t[e].length;o++)t[e][o]||0===t[e][o]||(t[e][o]=k),t[e][o]=Math.floor(t[e][o]);n.push(e+"@"+t[e].join("_"))}return n.join("|")}function u(t){
function n(t){var n=$(this).offset();o=new Date,i=t.touches[0].clientX,c=t.touches[0].clientY,u[0]=t.touches[0].pageX-n.left,u[1]=t.touches[0].pageY-n.top}function e(t){u[2]=o?u[0]:k,u[3]=o?u[1]:k,u[4]=o?new Date-o:k,u[5]=o?i:k,u[6]=o?c:k,r&&r.call(this,t),o=null,i=null,c=null}var o,i,c,a=t.ele,u=t.clickData,r=t.clickCb,f=t.childSelector;f?(a.on("touchstart",f,n),a.on("click",f,e)):(a.on("touchstart",n),a.on("click",e))}function r(){d&&(M[3]=Date.now()-d)}function f(){u({ele:T,childSelector:_,
clickData:x,clickCb:function(){c(a({ci:x}),60)}}),T.on("keyup",_,function(t){M[0]||(M[0]=0),M[0]++,d=Date.now()}),T.on("focus",_,function(t){M[1]||(M[1]=0),M[1]++}),T.on("input",_,function(t){M[2]||(M[2]=0),M[2]++})}function l(){function t(){o(l,w),o(s,1),o(j,1),i(),f=!1}function n(){r(),c(a({ci:x,iq:M,cb:l,ce:s,tse:j})),setTimeout(t,300)}var e=$(".se-form .se-bn");if(e.length){var f=!1,l=[],s=[];t(),u({ele:e,clickData:l,clickCb:function(){f=!0,n()}}),T.on("keydown",_,function(t){
t.keyCode===D&&(s[0]=1,f=!0,n())}),T.on("submit",function(t){j[0]=1,f&&n()})}}function s(t){function n(){o(f,w),o(j,1),i(),l=!1}function e(){r();var e={ci:x,iq:M,tse:j};e[t]=f,c(a(e)),setTimeout(n,300)}var f=[],l=!1;u({ele:C,clickData:f,childSelector:"."+t,clickCb:function(){l=!0,e()}}),T.on("submit",function(t){j[0]=1,l&&e()}),n()}function h(){function n(t,n){function e(){o(f,2),o(r,w)}function i(n){var o={scroll:f};o[t]=r,c(a(o)),setTimeout(e,300),
"result"!==t&&(this.hash?this.href=this.origin+this.search+"&tj=1"+this.hash:this.href=this.href+"&tj=1")}var r=[];u({ele:C,clickData:r,childSelector:n||"."+t,clickCb:i}),e()}var e,i,r,f=[];n("result"),n("brs",".rw-item"),n("fqrs",".hint-toprq-item"),n("page",".new-nextpage-only, .new-prepage, .new-nextpage, .new-firstpage"),C.on("touchstart",function(t){1===t.touches.length&&(e=t.touches[0].clientX,i=t.touches[0].clientY,r=Date.now())}),C.on("touchend",function(n){
var o=n.changedTouches[0].clientX,c=n.changedTouches[0].clientY;if(r&&c!==i){c<i?(f[0]||(f[0]=0),f[0]++):(f[1]||(f[1]=0),f[1]++);for(var a=[e,i,o,c,Date.now()-r],u=0;u<a.length;u++)a[u]=Math.floor(a[u]);var l=t("log/webb/webb_instance").getInstance();if(l){var s=l.options.logHost;l.updateOption({logHost:"//sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a/wbcj.gif"}),l.send("cus_action",{k:"touchmove",ver:1,v:l.transform(JSON.stringify({tsx:Math.floor(e),tsy:Math.floor(i),tex:Math.floor(o),tey:Math.floor(c),
td:Date.now()-r}))}),l.updateOption({logHost:s})}}})}function v(){window.addEventListener("devicemotion",function(t){if(!g){setTimeout(function(){g=!1},100),g=!0;var n=t.accelerationIncludingGravity;if(n){var e=n.x*n.x+n.y*n.y+n.z*n.z;if(!m)return void(m=e);var o=Math.abs(e-m);m&&e&&(!p||o>p)&&(p=o,b=t)}}})}var d,g,m,p,b,w=7,D=13,k=-1,y="wise_tj_ub",x=[],M=[],j=[],_=".se-input",T=$(".se-form"),C=$(document.body);return{monitor:function(){f(),l(),s("sug"),s("his"),h(),v()}}});