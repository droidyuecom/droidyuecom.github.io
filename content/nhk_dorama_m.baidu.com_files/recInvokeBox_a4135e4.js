define("modules/invoke/recInvokeBox",["require","modules/invoke/invokebox","modules/invoke/setInvokeCookie"],function(e){function n(n){var o=e("modules/invoke/invokebox"),t=e("modules/invoke/setInvokeCookie"),r=n.invokeElem||[],a=(new o).openBox,l=n.control,c=n.position;c&&l&&i(function(e){e||a.ready(function(){r.forEach(function(e){var n=e.$el||e,o=n.href;n.addEventListener("click",function(e){page.log.send({ct:76,cst:c-7}),1==l.app&&(e.preventDefault(),e.stopPropagation(),t(c),
setTimeout(function(){location.href=o},500),a.open({from:l.from,channel:l.channel,url:o,failCallback:function(){},failUrl:o}))})})})})}function o(e,n){var o=0,t=!1,i=window.setInterval(function(){e()&&(window.clearInterval(i),n(t)),o++>50&&(window.clearInterval(i),t=!0,n(t))},10)}function t(e){var n=e.toLowerCase();if(0===n.indexOf("msie")&&0===n.indexOf("trident"))return!1;var o=/(?:msie|rv:)\s?([\d\.]+)/.exec(n);return!!(o&&parseInt(o[1],10)>=10)}function i(e){var n
;if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){n=!1},function(e){n=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var i;try{i=window.indexedDB.open("test")}catch(e){n=!0}void 0===n&&o(function(){return"done"===i.readyState},function(e){e||(n=!i.result)})}else if(t(window.navigator.userAgent)){n=!1;try{window.indexedDB||(n=!0)}catch(e){n=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{
window.localStorage.setItem("test",1),window.openDatabase(null,null,null,null)}catch(e){n=!0}void 0===n&&(n=!1,window.localStorage.removeItem("test"))}o(function(){return void 0!==n},function(o){e(n)})}return{recInvokeBox:n,detectPrivateMode:i}});